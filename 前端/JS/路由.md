# 路由

# hash

1. 修改location.hash
2. 通过事件监听window.onhashChange，达到单页应用改变页面内容
# history
1. 操作history变量，通过history下的方法切换url
2. 访问页面可通过forward、back、go，html5新增加以下方法
   + history.pushState(data[, title][, url]); //向历史记录中追加一条记录
   + history.replaceState(data[, title][, url]); //替换当前页在历史记录中的信息。
   + history.state; //是一个属性，可以得到当前页的state信息。
   + window.onpopstate; //当history内得记录发生改变时触发。如果当前活动的历史记录项是被 pushState 创建的，或者是由 replaceState 改变的，那么 popstate 事件的状态属性 state 会包含一个当前历史记录状态对象的拷贝。
3. 监听popstate事件，单页应用改变页面内容

## hash 与 history 比较

区别

1. hash 模式中url会带一个#，而history相对优雅，没有#
2. hash 模式只能通过修改location.hash，来改变访问页面，history可通过pushState和replaceState改变，或者forward，back等方法，灵活操作url
3. pushState设置的新URL可以是与当前URL同源的任意URL；而hash只可修改#后面的部分，故只可设置与当前同文档的URL
4. pushState设置的新URL可以与当前URL一模一样，这样也会把记录添加到栈中；而hash设置的新值必须与原来不一样才会触发记录添加到栈中
5. pushState通过stateObject可以添加任意类型的数据到记录中；而hash只可添加短字符串
6. pushState可额外设置title属性供后续使用
7. hash兼容IE8以上，history兼容IE10以上
8. history模式需要后端配合将所有访问都指向index.html，否则用户刷新页面，会导致404错误

相同点
1. 二者都是改变url，但都不发起请求
